"use strict";(self.webpackChunkfront_appbee=self.webpackChunkfront_appbee||[]).push([[918],{4918:(I,d,o)=>{o.r(d),o.d(d,{TypevehicleModule:()=>E});var a=o(6895),s=o(9724),l=o(433);class c{}var e=o(8274),u=o(529);let f=(()=>{class t{constructor(n){this.http=n}getTypeV(){return this.http.get("http://127.0.0.1:8000/api/typev/get")}ajouterTypeV(n){return this.http.post("http://127.0.0.1:8000/api/typev/create",n)}suppTypeV(n){return this.http.delete("http://127.0.0.1:8000/api/typev/delete/"+n)}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(u.eN))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function v(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," le libelle is required. "),e.\u0275\u0275elementEnd())}function h(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275template(1,v,2,0,"div",20),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==n.f.libelle.errors?null:n.f.libelle.errors.required)}}function y(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," le libelle is required. "),e.\u0275\u0275elementEnd())}function g(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275template(1,y,2,0,"div",20),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==n.f.montant.errors?null:n.f.montant.errors.required)}}function b(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Image is required"),e.\u0275\u0275elementEnd())}function T(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275template(1,b,2,0,"div",20),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==n.f.image.errors?null:n.f.image.errors.required)}}function S(t,i){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",21),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"a",22),e.\u0275\u0275element(9,"i",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"a",24),e.\u0275\u0275listener("click",function(){const m=e.\u0275\u0275restoreView(n).$implicit,_=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(_.suppTypeV(m.id))}),e.\u0275\u0275element(11,"i",25),e.\u0275\u0275elementEnd()()()}if(2&t){const n=i.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.libelle),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.montant)}}const x=[{path:"",component:(()=>{class t{constructor(n,r){this.datatypes=n,this.formBuilder=r,this.types=new c,this.submitted=!1}ngOnInit(){this.getListetype()}getListetype(){this.datatypes.getTypeV().subscribe(n=>{console.log(n),this.typeVoiture=n})}uploadImage(n){this.files=n.target.files[0],console.log(this.files)}createForm(){this.form=this.formBuilder.group({libelle:["",l.kI.required],montant:["",l.kI.required],image:[null,l.kI.required]})}get f(){return this.form.controls}ajouterTypeV(){if(this.submitted=!0,this.form.invalid)return;const n=new FormData;n.append("libelle",this.form.value.libelle),n.append("montant",this.form.value.montant),n.append("image",this.files,this.files.name),this.datatypes.ajouterTypeV(n).subscribe(r=>{this.data=r,(this.data.status=!0)?this.toastr.success(JSON.stringify(this.data.message),"",{timeOut:2e3,progressBar:!0}):this.toastr.error(JSON.stringify(this.data.message),"",{timeOut:2e3,progressBar:!1}),this.submitted=!1,this.form.get("image")?.reset()})}suppTypeV(n){this.datatypes.suppTypeV(n).subscribe(r=>{this.getListetype()})}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(f),e.\u0275\u0275directiveInject(l.qu))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-typevehicle"]],decls:50,vars:4,consts:[[1,"row"],[1,"col-12"],[3,"ngSubmit"],[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body"],[1,"form-group","row","mb-4"],[1,"col-form-label","text-md-right","col-12","col-md-3","col-lg-3"],[1,"col-sm-12","col-md-7"],["type","text","name","libelle","formControlName","libelle",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","montant","id","montant","name","montant",1,"form-control"],["type","file","formControlName","image","id","image","name","image",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary"],[1,"table-responsive"],[1,"table","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[1,"invalid-feedback"],[4,"ngIf"],["scope","row"],["data-toggle","tooltip",1,"btn","btn-primary","btn-action","mr-1"],[1,"fas","fa-pencil-alt"],["data-toggle","tooltip","data-confirm","Are You Sure?|This action can not be undone. Do you want to continue?","data-confirm-yes","alert( 'Deleted ')",1,"btn","btn-danger","btn-action",3,"click"],[1,"fas","fa-trash"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return r.ajouterTypeV()}),e.\u0275\u0275elementStart(3,"div",3)(4,"div",4)(5,"h4",5),e.\u0275\u0275text(6,"Ajouter un type de voiture"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",6)(8,"div",7)(9,"label",8),e.\u0275\u0275text(10,"Libelle "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275element(12,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,h,2,1,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",7)(15,"label",8),e.\u0275\u0275text(16,"Montant"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",9),e.\u0275\u0275element(18,"input",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,g,2,1,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",7)(21,"label",8),e.\u0275\u0275text(22,"Image"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",9)(24,"input",13),e.\u0275\u0275listener("change",function(m){return r.uploadImage(m)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(25,T,2,1,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",7),e.\u0275\u0275element(27,"label",8),e.\u0275\u0275elementStart(28,"div",9)(29,"button",14),e.\u0275\u0275text(30," Enregister "),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(31,"div",3)(32,"div",4)(33,"h5"),e.\u0275\u0275text(34,"Liste Voiture"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"div",6)(36,"div",15)(37,"table",16)(38,"thead")(39,"tr")(40,"th",17),e.\u0275\u0275text(41,"Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"th",17),e.\u0275\u0275text(43,"Libelle"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"th",17),e.\u0275\u0275text(45,"Montant"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th",17),e.\u0275\u0275text(47,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(48,"tbody"),e.\u0275\u0275template(49,S,12,3,"tr",18),e.\u0275\u0275elementEnd()()()()()),2&n&&(e.\u0275\u0275advance(13),e.\u0275\u0275property("ngIf",r.submitted&&r.f.libelle.errors),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",r.submitted&&r.f.montant.errors),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",r.submitted&&r.f.image.errors),e.\u0275\u0275advance(24),e.\u0275\u0275property("ngForOf",r.typeVoiture))},dependencies:[a.sg,a.O5,l._Y,l.Fj,l.JJ,l.JL,l.F,l.u]}),t})()}];let C=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.Bz.forChild(x),s.Bz]}),t})(),E=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[a.ez,C,l.u5,l.UX]}),t})()}}]);