"use strict";(self.webpackChunkfront_appbee=self.webpackChunkfront_appbee||[]).push([[145],{8145:(f,r,a)=>{a.r(r),a.d(r,{MapadminModule:()=>h});var l=a(6895),c=a(4416),n=a(8256);function d(e,o){1&e&&(n.\u0275\u0275elementStart(0,"div",4),n.\u0275\u0275element(1,"div",5),n.\u0275\u0275elementEnd())}const m=[{path:"",component:(()=>{class e{constructor(t){this.ngZone=t,this.time="",this.distance="",this.togglePlacesSearch=!1,this.options={mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!0,disableDefaultUI:!0,disableDoubleClickZoom:!0,zoom:12}}ngOnInit(){this.ds=new google.maps.DirectionsService,this.dr=new google.maps.DirectionsRenderer({map:null,suppressMarkers:!0}),navigator.geolocation.getCurrentPosition(t=>{this.center={lat:t.coords.latitude,lng:t.coords.longitude},this.destination=this.center,this.map=new google.maps.Map(document.getElementById("map-canvas"),{...this.options,center:this.destination}),this.map.addListener("tilesloaded",()=>{this.ngZone.run(()=>{this.mapLoaded=!0})}),this.destinationPin=new google.maps.Marker({position:this.destination,icon:{url:"assets/photo/imgs/truck_pin.svg",anchor:new google.maps.Point(35,10),scaledSize:new google.maps.Size(50,50)},map:this.map}),this.map.addListener("click",i=>{this.showMapPill=!1})})}setRoutePolyline(){let t={origin:this.source,destination:this.destination,travelMode:google.maps.TravelMode.DRIVING};this.ds.route(t,(i,s)=>{this.dr.setOptions({suppressPolylines:!1,map:this.map}),s==google.maps.DirectionsStatus.OK&&(this.dr.setDirections(i),this.ngZone.run(()=>{let p=i.routes[0].legs[0];this.distance=p.distance.text,this.time=p.duration.text}))})}handleAddressChange(t){const i=t.geometry.location.lat(),s=t.geometry.location.lng();this.source={lat:i,lng:s},this.sourcePin?this.sourcePin.setPosition(this.source):(this.sourcePin=new google.maps.Marker({position:this.source,icon:{url:"assets/blue-marker.png",anchor:new google.maps.Point(10,10),scaledSize:new google.maps.Size(50,50)},animation:google.maps.Animation.DROP,map:this.map}),this.sourcePin.addListener("click",p=>{this.showMapPill=!0,this.onCenterMap()})),this.setRoutePolyline()}onCenterMap(){this.map.panTo(this.source)}clearPlacesField(){this.placesText=""}toggleSearch(){this.togglePlacesSearch=!this.togglePlacesSearch}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275directiveInject(n.NgZone))},e.\u0275cmp=n.\u0275\u0275defineComponent({type:e,selectors:[["app-mapadmin"]],decls:4,vars:1,consts:[[1,"app-page"],["id","map-canvas"],["map",""],["class","map-loader-container",4,"ngIf"],[1,"map-loader-container"],[1,"map-loader"]],template:function(t,i){1&t&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275element(1,"div",1,2),n.\u0275\u0275template(3,d,2,0,"div",3),n.\u0275\u0275elementEnd()),2&t&&(n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",!i.mapLoaded))},dependencies:[l.O5],styles:["#map-canvas[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.map-loader-container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:10;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.map-loader[_ngcontent-%COMP%]{background-repeat:no-repeat;max-width:100%;background-position:center;background-size:cover;width:130px;height:130px}.map-pill[_ngcontent-%COMP%]{background:#fff;position:fixed;bottom:25px;left:50;right:0;margin:12px;border-radius:50px;padding:80px;box-shadow:0 0 20px #0000001a}.youps-pill-logo[_ngcontent-%COMP%]{background-color:#7fff00;background-size:cover;background-position:center;width:50px;height:50px}.youps-pill-content[_ngcontent-%COMP%]{margin-left:12px}.youps-pill-label[_ngcontent-%COMP%]{color:#4b290c;font-size:1em}.youps-pill-distance-time[_ngcontent-%COMP%]{color:gray}.map-user-pill[_ngcontent-%COMP%]{padding:118px!important;top:0;bottom:auto!important;display:flex;align-items:center;z-index:10}.map-user-pill-content[_ngcontent-%COMP%]{margin-left:112px;flex:1}.map-user-display-name[_ngcontent-%COMP%]{font-size:1em;color:youps-main-brown}.map-user-display-desc[_ngcontent-%COMP%]{font-size:.7em;color:#a83737}.map-user-pill-logout[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;padding:8px;cursor:pointer;background:#c1834f;border-radius:50%}.map-pill-show[_ngcontent-%COMP%]{bottom:25px!important}.map-places-pill[_ngcontent-%COMP%]{position:fixed;top:32px;background:#753f17;left:0;right:0;margin:12px;padding:0 12px 14px;border-radius:0 0 30px 30px;box-shadow:0 0 20px #0009;z-index:9;color:#fff;display:flex;opacity:0;transition:opacity .25s,padding-top .25s}.material-icons[_ngcontent-%COMP%]{font-size:2em!important;color:#fff}.material-icons.close-btn[_ngcontent-%COMP%]{font-size:1.3em!important;display:flex;align-items:center}input[type=text][_ngcontent-%COMP%]{color:#fff!important;background:transparent;border:none;width:100%;margin-right:12px;text-overflow:ellipsis}input[type=text][_ngcontent-%COMP%]::placeholder{color:#fff}.map-places-search-visible[_ngcontent-%COMP%]{padding-top:44px!important;opacity:1!important}"]}),e})()}];let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=n.\u0275\u0275defineInjector({imports:[c.Bz.forChild(m),c.Bz]}),e})();var u=a(433);let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=n.\u0275\u0275defineInjector({imports:[l.ez,g,u.u5]}),e})()}}]);